<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jo bhi ho‚Ä¶ tumhari marzi</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;700&family=Playfair+Display:wght@400;500;700&family=Cormorant+Garamond:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="page-blur final-page">
    <div class="dreamy-overlay"></div>
    
    <div class="content dreamy-content choice-container" id="choiceContainer">
        <div class="bubu-dudu-container">
            <img src="gifs/bubu-final.gif" alt="Bubu and Dudu" class="bubu-dudu-gif" loading="lazy" onerror="this.src='gifs/bubu1.gif'">
        </div>
        
        <h1 class="choice-title">
            Jo bhi ho‚Ä¶ <span style="color: #ff6b9d;">tumhari marzi</span>
        </h1>
        
        <p class="intro-text dreamy-text center-text" style="margin-bottom: 40px;">
            <i class="fas fa-hand-holding-heart"></i> Whatever you decide, I'll respect it. Your happiness matters most. üíñ
        </p>
        
        <div class="choice-buttons">
            <button class="choice-btn" data-choice="time" onclick="handleChoice('time')">
                <i class="fas fa-clock"></i>
                <span>Mujhe thoda time chahiye</span>
            </button>
            
            <button class="choice-btn" data-choice="talk" onclick="handleChoice('talk')">
                <i class="fas fa-comments"></i>
                <span>Hum baat kar sakte hain</span>
            </button>
        </div>
        
        <p class="dreamy-text center-text" style="margin-top: 30px; font-style: italic; color: #7d6b9d;">
            <i class="fas fa-heart"></i> No pressure, no guilt. Just honest feelings and respect.
        </p>
    </div>
    
    <div class="content dreamy-content confirmation-message" id="confirmationMessage" style="display: none;">
        <div class="confirmation-icon">
            <i class="fas fa-heart-circle-check"></i>
        </div>
        
        <h2 class="choice-title" style="color: #ff6b9d;">
            Thank you for being honest ü§ç
        </h2>
        
        <p class="intro-text dreamy-text" style="margin: 30px 0; font-size: 1.6rem;">
            Your response has been noted with respect and understanding.<br>
            Whatever path you choose, I wish you nothing but happiness. üåü
        </p>
        
        <div class="signature dreamy-signature" style="margin-top: 40px;">
            ‚Äî With sincere respect, Always ü§ç
        </div>
        
        <div class="section-navigation" style="margin-top: 40px;">
            <a href="index.html" class="section-nav-btn dreamy-btn">
                <i class="fas fa-home"></i> Return to Beginning
            </a>
        </div>
    </div>
    
    <script>
        // Remove blur effect
        setTimeout(() => {
            document.body.classList.remove('page-blur');
            document.body.classList.add('page-clear');
        }, 500);
        
        // Configuration - Choose your preferred method
        const CONFIG = {
            // METHOD 1: WhatsApp (uncomment to use)
            method: 'whatsapp',
            phoneNumber: '+917019670262', // Replace with your number
            
            // METHOD 2: Email (uncomment to use)
            // method: 'email',
            // email: 'your-email@example.com',
            
            // METHOD 3: Google Form (uncomment to use)
            // method: 'googleForm',
            // formId: 'YOUR_GOOGLE_FORM_ID',
            
            // METHOD 4: Webhook (uncomment to use)
            // method: 'webhook',
            // webhookUrl: 'https://your-webhook-url.com/endpoint',
            
            // Common settings
            page: 'final',
            timestamp: new Date().toISOString()
        };
        
        function handleChoice(choice) {
            const choiceText = choice === 'time' ? 
                "Mujhe thoda time chahiye" : 
                "Hum baat kar sakte hain";
            
            // Create payload
            const payload = {
                selected_option: choiceText,
                timestamp: CONFIG.timestamp,
                page: CONFIG.page,
                user_agent: navigator.userAgent
            };
            
            // Send based on selected method
            sendResponse(CONFIG.method, payload, choiceText);
            
            // Show confirmation
            document.getElementById('choiceContainer').style.display = 'none';
            document.getElementById('confirmationMessage').style.display = 'block';
        }
        
        function sendResponse(method, payload, choiceText) {
            switch(method) {
                case 'whatsapp':
                    // Send via WhatsApp
                    const message = encodeURIComponent(
                        `Response from Emotional Confession:\n\n` +
                        `Selected Option: ${choiceText}\n` +
                        `Time: ${new Date().toLocaleString()}\n\n` +
                        `This response was sent automatically from the website.`
                    );
                    window.open(`https://wa.me/${CONFIG.phoneNumber}?text=${message}`, '_blank');
                    break;
                    
                case 'email':
                    // Send via Email
                    const subject = encodeURIComponent('Response from Emotional Confession');
                    const body = encodeURIComponent(
                        `Selected Option: ${choiceText}\n` +
                        `Time: ${payload.timestamp}\n` +
                        `Page: ${payload.page}\n\n` +
                        `This response was sent automatically from the website.`
                    );
                    window.location.href = `mailto:${CONFIG.email}?subject=${subject}&body=${body}`;
                    break;
                    
                case 'googleForm':
                    // Note: This requires a Google Form with pre-filled fields
                    // You'll need to set up the form first and get the prefill URL
                    alert('Google Form method selected. Please configure your form URL.');
                    console.log('Payload for Google Form:', payload);
                    break;
                    
                case 'webhook':
                    // Send via Fetch API to webhook
                    fetch(CONFIG.webhookUrl, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(payload)
                    })
                    .then(response => {
                        console.log('Webhook response:', response);
                    })
                    .catch(error => {
                        console.error('Webhook error:', error);
                    });
                    break;
                    
                default:
                    // Fallback: Log to console
                    console.log('User Choice:', payload);
                    alert('Thank you for your response! It has been recorded.');
            }
            
            // Also log to console for debugging
            console.log('Sending response:', {
                method: method,
                payload: payload
            });
        }
        
        // Fallback for browsers that block popups
        window.addEventListener('beforeunload', function() {
            // Save to localStorage as backup
            const lastChoice = localStorage.getItem('lastChoice');
            if (lastChoice) {
                localStorage.setItem('lastChoiceBackup', lastChoice);
            }
        });
    </script>
</body>
</html>